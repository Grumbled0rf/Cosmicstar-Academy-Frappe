import{s as N,i as P,z as j,r as B,o as F,b as m,c as L,a as S,u as T,d as V,e as l,f as a,g as w,j as c,h as r,k as d,l as e,n,_ as b,p as h,t as f,P as D,aj as I,F as p,x,ak as R,am as E,an as O,ar as A}from"./index--jEUqk-V.js";import{_ as G}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-BxWQxK9R.js";import{_ as H}from"./EmptyState.vue_vue_type_script_setup_true_lang-3SVCzLTm.js";const J={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},K={key:0,class:"md:w-3/4 md:mx-auto py-5 mx-5"},U={key:0,class:"text-xl font-semibold text-ink-gray-7 mb-4"},W={class:"flex justify-center my-5"},te={__name:"Quizzes",setup(X){var y;const{brand:v}=N(),o=P("$user"),Q=j(),_=B(0),$=window.read_only_mode;F(()=>{var t,s;!((t=o.data)!=null&&t.is_moderator)&&!((s=o.data)!=null&&s.is_instructor)&&Q.push({name:"Courses"}),q()});const C=m(()=>{var t,s;return(t=o.data)!=null&&t.is_moderator?{}:{owner:(s=o.data)==null?void 0:s.name}}),i=L({doctype:"LMS Quiz",filters:C,fields:["name","title","passing_percentage","total_marks"],auto:!0,cache:["quizzes",(y=o.data)==null?void 0:y.name],orderBy:"modified desc"}),q=()=>{S("frappe.client.get_count",{doctype:"LMS Quiz"}).then(t=>{_.value=t})},z=m(()=>[{label:__("Title"),key:"title",width:2},{label:__("Total Marks"),key:"total_marks",width:1,align:"center"},{label:__("Passing Percentage"),key:"passing_percentage",width:1,align:"center"}]),M=m(()=>[{label:__("Quizzes"),route:{name:"Quizzes"}}]);return T(()=>({title:__("Quizzes"),icon:v.favicon})),(t,s)=>{var g;const k=V("router-link");return a(),l(p,null,[w("header",J,[r(e(G),{items:M.value},null,8,["items"]),e($)?d("",!0):(a(),c(k,{key:0,to:{name:"QuizForm",params:{quizID:"new"}}},{default:n(()=>[r(e(b),{variant:"solid"},{prefix:n(()=>[r(e(D),{class:"w-4 h-4"})]),default:n(()=>[h(" "+f(t.__("New Quiz")),1)]),_:1})]),_:1}))]),(g=e(i).data)!=null&&g.length?(a(),l("div",K,[_.value?(a(),l("div",U,f(t.__("{0} Quizzes").format(_.value)),1)):d("",!0),r(e(A),{columns:z.value,rows:e(i).data,"row-key":"name",options:{showTooltip:!1,selectable:!1}},{default:n(()=>[r(e(I),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:n(()=>[(a(!0),l(p,null,x(z.value,u=>(a(),c(e(R),{item:u},null,8,["item"]))),256))]),_:1}),r(e(E),null,{default:n(()=>[(a(!0),l(p,null,x(e(i).data,u=>(a(),c(k,{to:{name:"QuizForm",params:{quizID:u.name}}},{default:n(()=>[r(e(O),{row:u},null,8,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"]),w("div",W,[e(i).hasNextPage?(a(),c(e(b),{key:0,onClick:s[0]||(s[0]=u=>e(i).next())},{default:n(()=>[h(f(t.__("Load More")),1)]),_:1})):d("",!0)])])):(a(),c(H,{key:1,type:"Quizzes"}))],64)}}};export{te as default};
//# sourceMappingURL=Quizzes-DJ6Yvbp5.js.map
