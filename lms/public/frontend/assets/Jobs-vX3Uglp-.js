import{i as P,e as v,f as t,g as a,k as h,t as o,h as n,l as e,bP as B,bx as O,n as u,p as w,B as J,r as p,s as U,o as z,A as M,w as q,b as D,u as L,d as Q,j as f,_ as R,P as A,C as E,bQ as I,q as F,ai as G,F as H,x as K}from"./index--jEUqk-V.js";import{_ as W}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-BxWQxK9R.js";import{_ as X}from"./EmptyState.vue_vue_type_script_setup_true_lang-3SVCzLTm.js";const Y={class:"flex flex-col border rounded-md p-3 h-full hover:border-outline-gray-3"},Z={class:"flex space-x-4 mb-4"},ee={class:"flex flex-col space-y-2 flex-1"},ae={class:"text-lg font-semibold text-ink-gray-9"},le={class:"font-medium text-ink-gray-7 leading-5"},se={class:"flex items-center space-x-1 text-sm text-ink-gray-7"},te={key:0,class:"flex items-center space-x-1 text-sm text-ink-gray-7"},oe={class:"space-x-2 mt-auto"},ne={__name:"JobCard",props:{job:{type:Object,default:null}},setup(s){const _=P("$dayjs");return(r,j)=>(t(),v("div",Y,[a("div",Z,[a("div",ee,[a("div",ae,o(s.job.company_name),1),a("span",le,o(s.job.job_title),1),a("div",se,[n(e(B),{class:"size-3"}),a("span",null,o(s.job.location)+o(s.job.country?`, ${s.job.country}`:""),1)]),s.job.applicants?(t(),v("div",te,[n(e(O),{class:"size-3"}),a("span",null,o(s.job.applicants)+" "+o(s.job.applicants>1?r.__("applicants"):r.__("applicant")),1)])):h("",!0)])]),a("div",oe,[n(e(J),null,{default:u(()=>[w(o(s.job.type),1)]),_:1}),n(e(J),null,{default:u(()=>[w(o(e(_)(s.job.creation).fromNow()),1)]),_:1})])]))}},ie={class:""},re={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},ce={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:items-center justify-between w-full md:w-4/5 mx-auto p-5"},ue={class:"text-xl font-semibold text-ink-gray-7 mb-4 md:mb-0"},de={key:0,class:"w-full md:w-4/5 mx-auto p-5 pt-0"},me={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},fe={__name:"Jobs",setup(s){const _=P("$user"),r=p(null),{brand:j}=U(),d=p(""),b=p(null),c=p({}),x=p({}),k=p(0),T=window.read_only_mode;z(()=>{let l=new URLSearchParams(location.search);l.has("type")&&(r.value=l.get("type")),g()});const y=M({url:"lms.lms.api.get_job_opportunities",cache:["jobs"],onSuccess(l){k.value=l.length}}),g=()=>{N(),y.update({params:{filters:c.value,orFilters:x.value}}),y.reload()},N=()=>{c.value.status="Open",c.value.disabled=0,r.value?c.value.type=r.value:delete c.value.type,d.value?x.value={job_title:["like",`%${d.value}%`],company_name:["like",`%${d.value}%`],location:["like",`%${d.value}%`]}:x.value={},b.value?c.value.country=b.value:delete c.value.country};q(b,l=>{g()});const S=D(()=>["",{label:__("Full Time"),value:"Full Time"},{label:__("Part Time"),value:"Part Time"},{label:__("Contract"),value:"Contract"},{label:__("Freelance"),value:"Freelance"}]);return L(()=>({title:__("Jobs"),icon:j.favicon})),(l,m)=>{var V,C;const $=Q("router-link");return t(),v("div",ie,[a("header",re,[n(e(W),{class:"h-7",items:[{label:l.__("Jobs"),route:{name:"Jobs"}}]},null,8,["items"]),(V=e(_).data)!=null&&V.name?(t(),f($,{key:0,to:{name:"JobForm",params:{jobName:"new"}}},{default:u(()=>[e(T)?h("",!0):(t(),f(e(R),{key:0,variant:"solid"},{prefix:u(()=>[n(e(A),{class:"h-4 w-4"})]),default:u(()=>[w(" "+o(l.__("New Job")),1)]),_:1}))]),_:1})):h("",!0)]),a("div",null,[a("div",ce,[a("div",ue,o(l.__("{0} Open Jobs").format(k.value)),1),a("div",{class:E(["grid grid-cols-1 gap-2",e(_).data?"md:grid-cols-3":"md:grid-cols-2"])},[n(e(F),{type:"text",placeholder:l.__("Search"),modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=i=>d.value=i),class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",onInput:g},{prefix:u(()=>[n(e(I),{class:"w-4 h-4 stroke-1.5 text-ink-gray-5",name:"search"})]),_:1},8,["placeholder","modelValue"]),e(_).data?(t(),f(G,{key:0,doctype:"Country",modelValue:b.value,"onUpdate:modelValue":m[1]||(m[1]=i=>b.value=i),placeholder:l.__("Country"),class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40"},null,8,["modelValue","placeholder"])):h("",!0),n(e(F),{modelValue:r.value,"onUpdate:modelValue":m[2]||(m[2]=i=>r.value=i),type:"select",options:S.value,class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",placeholder:l.__("Type"),onChange:g},null,8,["modelValue","options","placeholder"])],2)]),(C=e(y).data)!=null&&C.length?(t(),v("div",de,[a("div",me,[(t(!0),v(H,null,K(e(y).data,i=>(t(),f($,{to:{name:"JobDetail",params:{job:i.name}},key:i.name},{default:u(()=>[n(ne,{job:i},null,8,["job"])]),_:2},1032,["to"]))),128))])])):(t(),f(X,{key:1,type:"Job Openings"}))])])}}};export{fe as default};
//# sourceMappingURL=Jobs-vX3Uglp-.js.map
